# str 字符串

## 定义

由一系列 __字符__ 组成的 __不可变__ 序列容器，存储的是字符的 __编码值__

```python
# 字符串表示方法
'hello world'
"hello world"
'''hello world'''
"""hello world"""

"I'm a student"
'I like "Python"'

# 换行
'hello \
world'

'''
hello
world
'''
```

说明

- 单引号内的双引号不作为字符串的结束符，双引号内的单引号不作为字符串的结束符
- 三引号可见即所得，三引号内的换行会自动转换为换行符，而单引号和双引号需要手动添加换行
- 每种引号内只能出现其他引号，其他引号将作为字符，而不是字符串的标志
- 在Python中单个字符和字符串统称为字符串



## 基本概念

- bit 位，只能存储0和1，1byte = 8bit
- byte 字节，计算机存储的最小单位
- 字符，单个的数字、符号、字母、文字等
- 字符集，又称码表，存储字符与二进制序列的对应关系
- 编码，将字符转换成对应的二进制序列的过程
- 解码，将二进制序列转换成对应的字符的过程



## 编码方式

### ASCII

America Standard Code for Communication编码：只包含英文、数字字符，每个字符对应1个字节

查看ASCII编码表：在交互模式中输入**man ascii**（仅限Linux）

| 字符 | 十进制 | 十六进制 |
| ---- | ------ | -------- |
| '0'  | 48     | 0x30     |
| 'A'  | 65     | 0x41     |
| 'a'  | 97     | 0x61     |

### GBK

兼容ASCII，包含21003个中文，每个英文1个字节，每个汉字2个字节

### Unicode

国际统一编码。 旧字符集每个字符2个字节，新字符集每个字符4个字节

### UTF-8

Unicode的存储和传输方式。英文1个字节，汉字3个字节



## 字符相关函数

```python
# 字符串构造函数
# str(obj = '')  将对象转换为字符串，obj默认为空
s = str(123)  # '123'
b = str(True)  # 'True'

# 字符串编码转换函数
# ord(字符)  返回该字符对应的Unicode码
ord('A')  # 65
ord('田')  # 30000
# chr(Unicode码)  返回数字对应的字符串
chr(65)  # 'A'
chr(30000)  # '田'

# 整数转字符串函数
# hex(i) 将整数转为对应的十六进制数的字符串
hex(10)  # '0xa'
oct(10)  # '0o12'
bin(10)  # '0b1010'
```



## 转义字符串

转义符  `\`

改变原有字符含义的特殊字符

| 转义符      | 含义                       |
| ----------- | -------------------------- |
| `\'`        | `'`                        |
| `\"`        | `"`                        |
| `\"""`      | `"""`                      |
| `\t`        | 水平制表符                 |
| `\v`        | 垂直制表符                 |
| `\n`        | 换行符                     |
| `\\`        | `\`                        |
| `\f`        | 换页                       |
| `\r`        | 光标返回行首               |
| `\b`        | 倒退                       |
| `\0`        | 空字符串                   |
| `\0oo`      | oo为两位八进制表示的字符   |
| `\xXX`      | XX为两位十六进制表示的字符 |
| `\uXXXX`    | Unicode16的十六进制的字符  |
| `\uXXXXXXXX | Unicode32的十六进制的字符  |



### raw字符串（原始字符串）

```python
r"字符串内容"
# 让转义符无效

s = r'a\b\c.txt'  # s = 'a\\b\\c.txt'
print(s)
# a\b\c.txt
```



## 格式化字符串

生成一定格式的字符串

```python
"...%格式..." % (变量)

# 格式
"%[-+0宽度.精度]类型码"

'%10d' % 123  # '       123'
'%-10d' % 123  # '123       '
'%05s' % 'abc'  # '00abc'
'%7.3f' % 3.1415926  # '003.141'
```



| 格式  | 说明                                   |
| ----- | -------------------------------------- |
| -     | 左对齐，默认右对齐                     |
| +     | 显示正号                               |
| 0     | 补0，只在左边补                        |
| 宽度  | 整数，表示字符串长度，不能用变量代替   |
| .精度 | 整数，保留小数点后几位，不能用变量代替 |

```python
# 生成一个含有占位符的字符串
fmt = '%%%ds' % 10  # '%10s'
s = fmt % 'abc'  # s = '      abc'

# 宽度和精度都是整数，可以用*来动态代入这个变量
'%.*f' % (4, 1.2)  # 1.2000
i = 4
'%*d' % (i, 2)  # '   2'
```



### 类型码

占位符：__%类型码__

```python
# %s 字符串，使用str函数转换
'%s' % 30000  # '30000'
'%s' % 'abc'  # 'abc'

# %r 字符串，使用repr函数转换
'%r' % 30000  # '30000'

# %c 将整数转为单个字符， 等同于chr(int)
'%c' % 30000  # '田'
'%c' % 'a'  # 'a'

# %d 将整数转为十进制后填补字符串
'%d' % 30000  # '30000'

# %o 将整数转为八进制后填补字符串
'%o' % 30000  # '72460'

# %x 将整数转为十六进制后填补字符串
'%x' % 50000  # 'c350'

# %X 将整数转为十六进制后填补字符串
'%X' % 50000  # 'C350'

# %e 以科学计数法显示浮点数数字符串，e小写

# %E 以科学计数法显示浮点数数字符串，E大写

# %f, %F 十进制浮点数字符串
# %g, %G 十进制浮点数或指数形式浮点数自动转换
# %% 在格式化字符串中，等同于一个%，既不是类型码也不是占位符
```

 

## 常用字符串方法

方法类似于函数，不同的是方法专属于某一类对象

```python
# 方法的调用
obj.方法名(方法传参)
```

| 方法                         | 说明                                                         |
| ---------------------------- | ------------------------------------------------------------ |
| s.isdigit()                  | 判断字符串是否全为数字                                       |
| s.isalpha()                  | 判断字符串是否全为字母                                       |
| s.find(sub[, start[, stop]]) | 检测 sub子串是否包含在字符串中，如果指定范围 start 和 stop，则检查是否包含在指定范围内，如果包含返回开始的索引值，否则返回-1 |
| __s.strip()__                | 返回去掉左右空白字符的字符串                                 |
| s.lstrip()                   | 截掉字符串左边的空格或指定字符                               |
| s.rstrip()                   | 删除字符串字符串末尾的空格                                   |
| s.center(width[, fill])      | 返回一个指定的宽度 width ，并居中的字符串，fillchar 为填充的字符，默认为空格 |
| **s.split(sep = None)**      | 将sep作为分隔符，来分割字符串，返回分割后的字符串的列表。当不给定参数时，用空白字符作为分隔符进行分割 |
| **s.join(L)**                | 将s作为一个连接符，将L中的元素连接成一个字符串               |

```python
s = 'I like python'
lst = s.split(sep=' ')  # lst = ['I', 'like', 'python']
result = '_'.join(lst)  # result = 'I_like_python'
```



### 查看字符串方法

```python
dir(str)
```